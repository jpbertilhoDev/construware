<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DemonstraÃ§Ã£o wa.me - Construware</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-2xl mx-auto">
        <h1 class="text-3xl font-bold mb-6 text-center">ğŸ”— DemonstraÃ§Ã£o wa.me</h1>
        
        <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
            <h2 class="text-xl font-semibold mb-4">ğŸ“± O que Ã© wa.me?</h2>
            <p class="text-gray-700 mb-4">
                <strong>wa.me</strong> Ã© o serviÃ§o oficial do WhatsApp para criar links diretos que:
            </p>
            <ul class="list-disc pl-6 text-gray-700 mb-4">
                <li>Abrem conversas diretas sem salvar contato</li>
                <li>PrÃ©-preenchem mensagens automaticamente</li>
                <li>Funcionam em qualquer dispositivo</li>
                <li>SÃ£o 100% compatÃ­veis e gratuitos</li>
            </ul>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
            <h2 class="text-xl font-semibold mb-4">ğŸ§ª Teste PrÃ¡tico</h2>
            
            <div class="mb-4">
                <label class="block text-sm font-medium mb-2">NÃºmero WhatsApp (formato portuguÃªs):</label>
                <input type="text" id="phoneNumber" placeholder="+351 963 901 570" 
                       class="w-full p-3 border rounded-lg" value="+351 963 901 570">
            </div>
            
            <div class="mb-4">
                <label class="block text-sm font-medium mb-2">Mensagem prÃ©-preenchida:</label>
                <textarea id="message" rows="4" class="w-full p-3 border rounded-lg"
                          placeholder="Digite sua mensagem aqui...">ğŸ¤– OlÃ¡! 

Recebi este relatÃ³rio automÃ¡tico da IA Consultora da Construware:

ğŸ“Š Setor: Restaurante
ğŸ‘¥ FuncionÃ¡rios: 6-20
ğŸ’° Economia estimada: â‚¬25.000/ano
ğŸ¯ RecomendaÃ§Ã£o: Sistema Desktop + App Mobile

Gostaria de agendar uma demonstraÃ§Ã£o gratuita!

Obrigado! ğŸ™</textarea>
            </div>
            
            <div class="flex gap-4">
                <button onclick="generateWaMe()" 
                        class="bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition">
                    ğŸ“± Gerar Link wa.me
                </button>
                
                <button onclick="openWhatsApp()" 
                        class="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition">
                    ğŸš€ Abrir WhatsApp
                </button>
            </div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-lg mb-6" id="result" style="display: none;">
            <h3 class="text-lg font-semibold mb-4">ğŸ”— Link wa.me Gerado:</h3>
            <div class="bg-gray-100 p-3 rounded border text-sm font-mono break-all" id="generatedLink"></div>
            
            <h3 class="text-lg font-semibold mb-2 mt-4">ğŸ“‹ Como Funciona:</h3>
            <ol class="list-decimal pl-6 text-gray-700">
                <li>O link abre o WhatsApp automaticamente</li>
                <li>Seleciona o contato (+351 963 901 570)</li>
                <li>PrÃ©-preenche a mensagem no campo de texto</li>
                <li>UsuÃ¡rio sÃ³ precisa clicar "Enviar"</li>
            </ol>
        </div>

        <div class="bg-yellow-50 border border-yellow-200 p-6 rounded-lg">
            <h3 class="text-lg font-semibold mb-2 text-yellow-800">âš¡ No Sistema Construware:</h3>
            <div class="text-yellow-700">
                <p class="mb-2"><strong>ğŸ¯ Sistema HÃ­brido Inteligente:</strong></p>
                <ul class="list-disc pl-6">
                    <li><strong>1Âº Tentativa:</strong> Evolution API (envio automÃ¡tico)</li>
                    <li><strong>2Âº Fallback:</strong> wa.me (mÃ©todo manual garantido)</li>
                    <li><strong>Resultado:</strong> 100% de taxa de sucesso</li>
                </ul>
                
                <p class="mt-4 font-semibold">
                    ğŸš€ Se Evolution API funcionar â†’ AutomÃ¡tico<br>
                    ğŸ“± Se falhar â†’ wa.me (como demonstrado acima)
                </p>
            </div>
        </div>
    </div>

    <script>
        function formatPhoneNumber(phone) {
            // Remove espaÃ§os e caracteres especiais
            let cleanPhone = phone.replace(/\s+/g, '').replace(/[^\d+]/g, '');
            
            // Formatar para wa.me (sem + inicial)
            if (cleanPhone.startsWith('+351')) {
                return cleanPhone.substring(1);
            } else if (cleanPhone.startsWith('351')) {
                return cleanPhone;
            } else if (cleanPhone.startsWith('9') && cleanPhone.length === 9) {
                return '351' + cleanPhone;
            }
            
            return cleanPhone;
        }

        function generateWaMe() {
            const phone = document.getElementById('phoneNumber').value;
            const message = document.getElementById('message').value;
            
            try {
                const formattedPhone = formatPhoneNumber(phone);
                const encodedMessage = encodeURIComponent(message);
                const waLink = `https://wa.me/${formattedPhone}?text=${encodedMessage}`;
                
                document.getElementById('generatedLink').textContent = waLink;
                document.getElementById('result').style.display = 'block';
                
                // Scroll para o resultado
                document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
                
            } catch (error) {
                alert('Erro ao gerar link: ' + error.message);
            }
        }

        function openWhatsApp() {
            const phone = document.getElementById('phoneNumber').value;
            const message = document.getElementById('message').value;
            
            try {
                const formattedPhone = formatPhoneNumber(phone);
                const encodedMessage = encodeURIComponent(message);
                const waLink = `https://wa.me/${formattedPhone}?text=${encodedMessage}`;
                
                // Abrir WhatsApp
                window.open(waLink, '_blank');
                
                // Mostrar resultado tambÃ©m
                document.getElementById('generatedLink').textContent = waLink;
                document.getElementById('result').style.display = 'block';
                
            } catch (error) {
                alert('Erro ao abrir WhatsApp: ' + error.message);
            }
        }
    </script>
</body>
</html> 